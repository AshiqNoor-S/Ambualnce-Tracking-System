<!DOCTYPE html>
    <html>
    <head>
    <title>OpenStreetMap Example</title>
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.7.1/dist/leaflet.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.7.1/dist/leaflet.css"/>
    <style>
        #mapid {
        height: 400px;
        }
        
      #sample {
        background-color: red;
        width: 300px;
        height: 300px;
      }
    </style>
    </head>
        <body>
            <h1>Communicating from an Arduino to Node.js</h1>
            <div id="sample"></div>

        <!-- <div id="mapid"></div> -->

        <script>
            var latitude = 12.8406;
            var longitude = 80.1534;
            var mymap = L.map('mapid').setView([latitude, longitude], 13);
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {attribution: 'Map data Â© <a href="https://openstreetmap.org">OpenStreetMap</a> contributors',maxZoom: 18,}).addTo(mymap);
            var marker = L.marker([latitude, longitude]).addTo(mymap);
        </script>

        <script src="index.js"></script>

        
        <script src='https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.0.4/socket.io.js'></script>

        <script>

        var socket = io();

        socket.on('data', function(data) {
            console.log(data);
            document.getElementById('sample').style.opacity = data+"%"; 
        });

        </script>

    </body>
</html>

